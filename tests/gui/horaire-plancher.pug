extends layout


block content
  - const user = {alias:"Pascal"};
  - const alerts = {messages:13};
  include navbar
  +navbar(user, alerts, "horaire-perso")

  mixin buildcell(celldata)
    //- - const content = JSON.stringify(celldata.content);
    - const att = celldata.attributes ? celldata.attributes : {}
    td&attributes(celldata.attributes)= celldata.content
    //- td(celldata.attributes)= celldata.content

  mixin buildrow(rowdata)
    tr
      - for(i in rowdata){
        +buildcell(rowdata[i])
      - }

  mixin buildtable(data, id)
    table
      -for(i in data){
        +buildrow(data[i])
      - }
  
  mixin selector(id, date)
    .selector 
      .tuile.tuile-sm
        a(href=`horaire-plancher.html?id=${id}&date=${date}&op=prev`)
          p= "<<"
      .input-dark.tuile-sm
        p= date
      .tuile.tuile-sm
        a(href=`horaire-plancher.html?id=${id}&date=${date}&op=next`)
          p= ">>"

  .container.table-container
    - const date = "2022-09-25"
    - const id = -1;
    +selector(id, start, end)
    - const allo = {};
    - allo['key0'] = 'value0';
    - allo['key1'] = 'value1';
    - allo['key2'] = 'value2';
    - const myAllo = JSON.stringify(allo)
    - const data = JSON.parse(`[[{"content":"00:00"},{"content":" "},{"content":" "},{"content":" "},{"content":" "},{"content":" "},{"content":" "},{"content":" "}],[{"content":"00:30"},{"content":" "},{"content":" "},{"content":" "},{"content":" "},{"content":" "},{"content":" "},{"content":" "}],[{"content":"01:00"},{"content":" "},{"content":" "},{"content":" "},{"content":" "},{"content":" "},{"content":" "},{"content":" "}],[{"content":"01:30"},{"content":" "},{"content":" "},{"content":" "},{"content":" "},{"content":" "},{"content":" "},{"content":" "}],[{"content":"02:00"},{"content":" "},{"content":" "},{"content":" "},{"content":" "},{"content":" "},{"content":" "},{"content":" "}],[{"content":"02:30"},{"content":" "},{"content":" "},{"content":" "},{"content":" "},{"content":" "},{"content":" "},{"content":" "}],[{"content":"03:00"},{"content":" "},{"content":" "},{"content":" "},{"content":" "},{"content":" "},{"content":" "},{"content":" "}],[{"content":"03:30"},{"content":" "},{"content":" "},{"content":" "},{"content":" "},{"content":" "},{"content":" "},{"content":" "}],[{"content":"04:00"},{"content":" "},{"content":" "},{"content":" "},{"content":" "},{"content":" "},{"content":" "},{"content":" "}],[{"content":"04:30"},{"content":" "},{"content":" "},{"content":" "},{"content":" "},{"content":" "},{"content":" "},{"content":" "}],[{"content":"05:00"},{"content":" "},{"content":" "},{"content":" "},{"content":" "},{"content":" "},{"content":" "},{"content":" "}],[{"content":"05:30"},{"content":" "},{"content":" "},{"content":" "},{"content":" "},{"content":" "},{"content":" "},{"content":" "}],[{"content":"06:00"},{"content":" "},{"content":" "},{"content":" "},{"content":" "},{"content":" "},{"content":" "},{"content":" "}],[{"content":"06:30"},{"content":" "},{"content":" "},{"content":" "},{"content":" "},{"content":" "},{"content":" "},{"content":" "}],[{"content":"07:00"},{"content":" "},{"content":" "},{"content":" "},{"content":" "},{"content":" "},{"content":" "},{"content":" "}],[{"content":"07:30"},{"content":" "},{"content":" "},{"content":" "},{"content":" "},{"content":" "},{"content":" "},{"content":" "}],[{"content":"08:00"},{"content":" "},{"content":" "},{"content":" "},{"content":" "},{"content":" "},{"content":" "},{"content":" "}],[{"content":"08:30"},{"content":" "},{"content":" "},{"content":" "},{"content":" "},{"content":" "},{"content":" "},{"content":" "}],[{"content":"09:00"},{"content":"25/09/2022 09:00:00-25/09/2022 12:30:00","attributes":{"rowspan":7,"style":"background-color:red; font-weight: bold;"}},{"content":" "},{"content":" "},{"content":" "},{"content":" "},{"content":" "},{"content":" "}],[{"content":"09:30"},{"content":" "},{"content":" "},{"content":" "},{"content":" "},{"content":" "},{"content":" "}],[{"content":"10:00"},{"content":" "},{"content":" "},{"content":" "},{"content":" "},{"content":" "},{"content":" "}],[{"content":"10:30"},{"content":" "},{"content":" "},{"content":" "},{"content":" "},{"content":" "},{"content":" "}],[{"content":"11:00"},{"content":" "},{"content":" "},{"content":" "},{"content":" "},{"content":" "},{"content":" "}],[{"content":"11:30"},{"content":" "},{"content":" "},{"content":" "},{"content":" "},{"content":" "},{"content":" "}],[{"content":"12:00"},{"content":" "},{"content":" "},{"content":"28/09/2022 12:00:00-28/09/2022 17:00:00","attributes":{"rowspan":10,"style":"background-color:red; font-weight: bold;"}},{"content":" "},{"content":" "},{"content":" "}],[{"content":"12:30"},{"content":" "},{"content":" "},{"content":" "},{"content":" "},{"content":" "},{"content":" "}],[{"content":"13:00"},{"content":" "},{"content":" "},{"content":" "},{"content":" "},{"content":" "},{"content":" "}],[{"content":"13:30"},{"content":" "},{"content":" "},{"content":" "},{"content":" "},{"content":" "},{"content":" "}],[{"content":"14:00"},{"content":" "},{"content":" "},{"content":" "},{"content":" "},{"content":" "},{"content":" "}],[{"content":"14:30"},{"content":" "},{"content":" "},{"content":" "},{"content":" "},{"content":" "},{"content":" "}],[{"content":"15:00"},{"content":" "},{"content":" "},{"content":" "},{"content":" "},{"content":" "},{"content":" "}],[{"content":"15:30"},{"content":" "},{"content":" "},{"content":" "},{"content":" "},{"content":" "},{"content":" "}],[{"content":"16:00"},{"content":" "},{"content":" "},{"content":" "},{"content":" "},{"content":" "},{"content":" "}],[{"content":"16:30"},{"content":" "},{"content":" "},{"content":" "},{"content":" "},{"content":" "},{"content":" "}],[{"content":"17:00"},{"content":" "},{"content":" "},{"content":" "},{"content":" "},{"content":" "},{"content":" "},{"content":" "}],[{"content":"17:30"},{"content":" "},{"content":" "},{"content":" "},{"content":" "},{"content":" "},{"content":" "},{"content":" "}],[{"content":"18:00"},{"content":" "},{"content":" "},{"content":" "},{"content":" "},{"content":" "},{"content":" "},{"content":" "}],[{"content":"18:30"},{"content":" "},{"content":" "},{"content":" "},{"content":" "},{"content":" "},{"content":" "},{"content":" "}],[{"content":"19:00"},{"content":" "},{"content":" "},{"content":" "},{"content":" "},{"content":" "},{"content":" "},{"content":" "}],[{"content":"19:30"},{"content":" "},{"content":" "},{"content":" "},{"content":" "},{"content":" "},{"content":" "},{"content":" "}],[{"content":"20:00"},{"content":" "},{"content":" "},{"content":" "},{"content":" "},{"content":" "},{"content":" "},{"content":" "}],[{"content":"20:30"},{"content":" "},{"content":" "},{"content":" "},{"content":" "},{"content":" "},{"content":" "},{"content":" "}],[{"content":"21:00"},{"content":" "},{"content":" "},{"content":" "},{"content":" "},{"content":" "},{"content":" "},{"content":" "}],[{"content":"21:30"},{"content":" "},{"content":" "},{"content":" "},{"content":" "},{"content":" "},{"content":" "},{"content":" "}],[{"content":"22:00"},{"content":" "},{"content":" "},{"content":" "},{"content":" "},{"content":" "},{"content":" "},{"content":" "}],[{"content":"22:30"},{"content":" "},{"content":" "},{"content":" "},{"content":" "},{"content":" "},{"content":" "},{"content":" "}],[{"content":"23:00"},{"content":" "},{"content":" "},{"content":" "},{"content":" "},{"content":" "},{"content":" "},{"content":" "}],[{"content":"23:30"},{"content":" "},{"content":" "},{"content":" "},{"content":" "},{"content":" "},{"content":" "},{"content":" "}],[{"content":" "},{"content":"25/09/2022"},{"content":"26/09/2022"},{"content":"27/09/2022"},{"content":"28/09/2022"},{"content":"29/09/2022"},{"content":"30/09/2022"},{"content":"01/10/2022"}]]`)
    +buildtable(data, "horaire")

  script.
    window.addEventListener("load", () => {
      const allo2 = !{JSON.stringify(allo)};
      console.log(allo2);
    })
